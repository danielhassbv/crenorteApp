import{a as ye,b as Pe,c as Se,d as J,e as Re}from"./chunk-UQF2N3UO.js";import{A as X,C as be,D as Q,I as Y,J as z,K as f,L as De,M as $e,P as _e,Q as Fe,R as Oe,U as xe,V as Ne,W as Me,Z as We,_ as ee,a as we,f as Z,q as Te,s as Ce}from"./chunk-5OO6GXAC.js";import{Ba as ke,Lb as Ie,Mb as ve,Qb as G,W as me,Z as P,a as H,aa as m,ba as d,ca as S,ea as Ee,fa as L,g as A,ga as Ae,j as g,ma as k,o as pe,p as he,qa as j,r as V,s as K,sa as h,z as ge}from"./chunk-2KT3GOAN.js";function te(e){e===void 0&&(Ae(te),e=m(k));let t=e.get(j);return n=>new g(r=>{let o=t.add(),i=!1;function a(){i||(o(),i=!0)}let l=n.subscribe({next:c=>{r.next(c),a()},complete:()=>{r.complete(),a()},error:c=>{r.error(c),a()}});return l.add(()=>{r.unsubscribe(),a()}),l})}var I=new Ie("ANGULARFIRE2_VERSION");function F(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(a=>a.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var D=(e,t)=>{let n=t?[t]:z(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},R=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(R||{}),Le=G()&&typeof Zone<"u"?R.WARN:R.SILENT;var U=class{zone;delegate;constructor(t,n=he){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(a){o?o.runGuarded(()=>{t.apply(this,[a])}):t.apply(this,[a])};return this.delegate.schedule(i,n,r)}},v=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=m(h);this.outsideAngular=n.runOutsideAngular(()=>new U(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new U(typeof Zone>"u"?void 0:Zone.current,pe))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),je=!1;function it(e,t){!je&&(Le>R.SILENT||G())&&(je=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Le>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function st(e){let t=m(h,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function T(e){let t=m(h,{optional:!0});return t?t.run(()=>e()):e()}var at=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),L(n,()=>T(()=>e.apply(void 0,r)))),u=(e,t,n)=>(n||=t?R.WARN:R.VERBOSE,function(){let r,o=arguments,i,a,l;try{i=m(v),a=m(j),l=m(Ee)}catch{return it(e,n),e.apply(this,o)}for(let s=0;s<arguments.length;s++)typeof o[s]=="function"&&(t&&(r||=T(()=>a.add())),o[s]=at(o[s],r,l));let c=st(()=>e.apply(this,o));return t?c instanceof g?c.pipe(K(i.outsideAngular),V(i.insideAngular),te(l)):c instanceof Promise?T(()=>new Promise((s,b)=>{a.run(()=>c).then(_=>L(l,()=>T(()=>s(_))),_=>L(l,()=>T(()=>b(_))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:T(()=>c):c instanceof g?c.pipe(K(i.outsideAngular),V(i.insideAngular)):T(()=>c)});var E=class{constructor(t){return t}},C=class{constructor(){return z()}};function ct(e){return e&&e.length===1?e[0]:new E(Y())}var ne=new P("angularfire2._apps"),ut={provide:E,useFactory:ct,deps:[[new d,ne]]},lt={provide:C,deps:[[new d,ne]]};function dt(e){return(t,n)=>{let r=n.get(ke);f("angularfire",I.full,"core"),f("angularfire",I.full,"app"),f("angular",ve.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new E(o)}}function Fn(e,...t){return S([ut,lt,{provide:ne,useFactory:dt(e),multi:!0,deps:[h,k,v,...t]}])}var ft=new Map,pt={activated:!1,tokenObservers:[]},ht={initialized:!1,enabled:!1};function p(e){return ft.get(e)||H({},pt)}function qe(){return ht}var gt="https://content-firebaseappcheck.googleapis.com/v1";var mt="exchangeDebugToken",ze={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Hn=24*60*60*1e3;var ie=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return A(this,null,function*(){this.stop();try{this.pending=new Z,this.pending.promise.catch(n=>{}),yield Et(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Z,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Et(e){return new Promise(t=>{setTimeout(t,e)})}var At={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},w=new Ce("appCheck","AppCheck",At);function He(e){if(!p(e).activated)throw w.create("use-before-activation",{appName:e.name})}function Ve(r,o){return A(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let y=yield a.getHeartbeatsHeader();y&&(i["X-Firebase-Client"]=y)}let l={method:"POST",body:JSON.stringify(t),headers:i},c;try{c=yield fetch(e,l)}catch(y){throw w.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw w.create("fetch-status-error",{httpStatus:c.status});let s;try{s=yield c.json()}catch(y){throw w.create("fetch-parse-error",{originalErrorMessage:y?.message})}let b=s.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw w.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});let _=Number(b[1])*1e3,fe=Date.now();return{token:s.token,expireTimeMillis:fe+_,issuedAtTimeMillis:fe}})}function Ke(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${gt}/projects/${n}/apps/${r}:${mt}?key=${o}`,body:{debug_token:t}}}var kt="firebase-app-check-database",It=1,se="firebase-app-check-store";var B=null;function vt(){return B||(B=new Promise((e,t)=>{try{let n=indexedDB.open(kt,It);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t(w.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(se,{keyPath:"compositeKey"})}}}catch(n){t(w.create("storage-open",{originalErrorMessage:n?.message}))}}),B)}function wt(e,t){return Tt(Ct(e),t)}function Tt(e,t){return A(this,null,function*(){let r=(yield vt()).transaction(se,"readwrite"),i=r.objectStore(se).put({compositeKey:e,value:t});return new Promise((a,l)=>{i.onsuccess=c=>{a()},r.onerror=c=>{l(w.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})})}function Ct(e){return`${e.options.appId}-${e.name}`}var O=new be("@firebase/app-check");function re(e,t){return Te()?wt(e,t).catch(n=>{O.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Ge(){return qe().enabled}function Ze(){return A(this,null,function*(){let e=qe();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var bt={error:"UNKNOWN_ERROR"};function yt(e){return we.encodeString(JSON.stringify(e),!1)}function ae(e,t=!1,n=!1){return A(this,null,function*(){let r=e.app;He(r);let o=p(r),i=o.token,a;if(i&&!x(i)&&(o.token=void 0,i=void 0),!i){let s=yield o.cachedTokenPromise;s&&(x(s)?i=s:yield re(r,void 0))}if(!t&&i&&x(i))return{token:i.token};let l=!1;if(Ge())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Ve(Ke(r,yield Ze()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),l=!0);let s=yield o.exchangeTokenPromise;return yield re(r,s),o.token=s,{token:s.token}}catch(s){return s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?O.warn(s.message):n&&O.error(s),oe(s)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),l=!0),i=yield p(r).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?O.warn(s.message):n&&O.error(s),a=s}let c;return i?a?x(i)?c={token:i.token,internalError:a}:c=oe(a):(c={token:i.token},o.token=i,yield re(r,i)):c=oe(a),l&&Dt(r,c),c})}function Pt(e){return A(this,null,function*(){let t=e.app;He(t);let{provider:n}=p(t);if(Ge()){let r=yield Ze(),{token:o}=yield Ve(Ke(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function St(e,t,n,r){let{app:o}=e,i=p(o),a={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&x(i.token)){let l=i.token;Promise.resolve().then(()=>{n({token:l.token}),Ue(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Ue(e))}function Xe(e,t){let n=p(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Ue(e){let{app:t}=e,n=p(t),r=n.tokenRefresher;r||(r=Rt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Rt(e){let{app:t}=e;return new ie(()=>A(null,null,function*(){let n=p(t),r;if(n.token?r=yield ae(e,!0):r=yield ae(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=p(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},ze.RETRIAL_MIN_WAIT,ze.RETRIAL_MAX_WAIT)}function Dt(e,t){let n=p(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function x(e){return e.expireTimeMillis-Date.now()>0}function oe(e){return{token:yt(bt),error:e}}var ce=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=p(this.app);for(let n of t)Xe(this.app,n.next);return Promise.resolve()}};function $t(e,t){return new ce(e,t)}function _t(e){return{getToken:t=>ae(e,t),getLimitedUseToken:()=>Pt(e),addTokenListener:t=>St(e,"INTERNAL",t),removeTokenListener:t=>Xe(e.app,t)}}var Ft="@firebase/app-check",Ot="0.11.0";var xt="app-check",Be="app-check-internal";function Nt(){Q(new X(xt,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return $t(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Be).initialize()})),Q(new X(Be,e=>{let t=e.getProvider("app-check").getImmediate();return _t(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),f(Ft,Ot)}Nt();var Mt="app-check";var $=class{constructor(){return D(Mt)}};var Wt=["localhost","0.0.0.0","127.0.0.1"],or=typeof window<"u"&&Wt.includes(window.location.hostname);function Qe(e){return new g(function(t){var n=J(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}var Ye="auth",N=class{constructor(t){return t}},M=class{constructor(){return D(Ye)}};var ue=new P("angularfire2.auth-instances");function Ut(e,t){let n=F(Ye,e,t);return n&&new N(n)}function Bt(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new N(r)}}var qt={provide:M,deps:[[new d,ue]]},Ht={provide:N,useFactory:Ut,deps:[[new d,ue],E]};function ho(e,...t){return f("angularfire",I.full,"auth"),S([Ht,qt,{provide:ue,useFactory:Bt(e),multi:!0,deps:[h,k,v,C,[new d,$],...t]}])}var go=u(Qe,!0);var mo=u(Pe,!0,2);var Eo=u(ye,!0,2);var Ao=u(Se,!0,2);var ko=u(Re,!0,2);var q=function(){return q=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},q.apply(this,arguments)};var Gt={includeMetadataChanges:!1};function Je(e,t){return t===void 0&&(t=Gt),new g(function(n){var r=ee(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function et(e){return Je(e,{includeMetadataChanges:!0})}function tt(e,t){return t===void 0&&(t={}),et(e).pipe(ge(function(n){return nt(n,t)}))}function nt(e,t){var n;t===void 0&&(t={});var r=e.data(t);return!e.exists()||typeof r!="object"||r===null||!t.idField?r:q(q({},r),(n={},n[t.idField]=e.id,n))}var W=class{constructor(t){return t}},rt="firestore",le=class{constructor(){return D(rt)}};var de=new P("angularfire2.firestore-instances");function Zt(e,t){let n=F(rt,e,t);return n&&new W(n)}function Xt(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new W(r)}}var Qt={provide:le,deps:[[new d,de]]},Yt={provide:W,useFactory:Zt,deps:[[new d,de],E]};function ji(e,...t){return f("angularfire",I.full,"fst"),S([Yt,Qt,{provide:de,useFactory:Xt(e),multi:!0,deps:[h,k,v,C,[new d,M],[new d,$],...t]}])}var zi=u(tt,!0);var Ui=u(We,!0,2);var Bi=u(De,!0,2);var qi=u($e,!0,2);var Hi=u(xe,!0);var Vi=u(Ne,!0);var Ki=u(Oe,!0,2),Gi=u(_e,!0,2);var Zi=u(Me,!0,2);var Xi=u(Fe,!0,2);export{I as a,F as b,D as c,v as d,E as e,C as f,Fn as g,$ as h,N as i,M as j,ho as k,go as l,mo as m,Eo as n,Ao as o,ko as p,W as q,ji as r,zi as s,Ui as t,Bi as u,qi as v,Hi as w,Vi as x,Ki as y,Gi as z,Zi as A,Xi as B};
